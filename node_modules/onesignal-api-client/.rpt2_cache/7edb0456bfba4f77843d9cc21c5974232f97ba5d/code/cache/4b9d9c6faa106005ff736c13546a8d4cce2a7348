{"code":"import * as tslib_1 from \"tslib\";\r\nimport * as request from \"got\";\r\nimport { BASE_URL } from \"values\";\r\nvar URL = BASE_URL + \"/notifications\";\r\n/**\r\n * Send notification to users\r\n *\r\n * @export\r\n * @param {string} secretKey REST API key\r\n * @param {INotification} notification The notification to send\r\n * @returns {Promise<object>}\r\n */\r\nexport function sendNotification(secretKey, notification) {\r\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\r\n        var response, error_1;\r\n        return tslib_1.__generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    _a.trys.push([0, 2, , 3]);\r\n                    return [4 /*yield*/, request.post(URL, {\r\n                            body: notification,\r\n                            json: true,\r\n                            headers: {\r\n                                Authorization: \"Basic \" + secretKey\r\n                            }\r\n                        })];\r\n                case 1:\r\n                    response = _a.sent();\r\n                    return [2 /*return*/, response.body];\r\n                case 2:\r\n                    error_1 = _a.sent();\r\n                    throw error_1;\r\n                case 3: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\n//# sourceMappingURL=sendNotification.js.map","map":{"version":3,"file":"sendNotification.js","sourceRoot":"","sources":["sendNotification.ts"],"names":[],"mappings":";AAAA,OAAO,KAAK,OAAO,MAAM,KAAK,CAAC;AAO/B,OAAO,EAAE,QAAQ,EAAE,MAAM,QAAQ,CAAC;AAElC,IAAM,GAAG,GAAc,QAAQ,mBAAgB,CAAC;AAEhD;;;;;;;GAOG;AACH,MAAM,2BACJ,SAAiB,EACjB,YAGwB;;;;;;;oBAGa,qBAAM,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE;4BACzD,IAAI,EAAE,YAAY;4BAClB,IAAI,EAAE,IAAI;4BACV,OAAO,EAAE;gCACP,aAAa,EAAE,WAAS,SAAW;6BACpC;yBACF,CAAC,EAAA;;oBANI,QAAQ,GAAqB,SAMjC;oBAEF,sBAAO,QAAQ,CAAC,IAAI,EAAC;;;oBAErB,MAAM,OAAK,CAAC;;;;;CAEf"},"dts":{"name":"/home/leosuncin/Workspaces/github/onesignal-api-client/lib/api/sendNotification.d.ts","text":"import { INotificationDevicesStrict as INotificationDevices, INotificationFiltersStrict as INotificationFilters, INotificationSegmentsStrict as INotificationSegments } from \"interfaces/notification\";\r\n/**\r\n * Send notification to users\r\n *\r\n * @export\r\n * @param {string} secretKey REST API key\r\n * @param {INotification} notification The notification to send\r\n * @returns {Promise<object>}\r\n */\r\nexport declare function sendNotification(secretKey: string, notification: INotificationSegments | INotificationFilters | INotificationDevices): Promise<object>;\r\n"}}
